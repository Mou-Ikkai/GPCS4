name: Compile Master

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

jobs:
  build:
    strategy:
      matrix:
        arch:
          - amd64
        vsversion: 
          - 2022
    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v3
    - name: Enable Developer Command Prompt MSVC
      uses: ilammy/msvc-dev-cmd@v1.11.0
    - name: Setup Vulkan SDK
      uses: humbletim/setup-vulkan-sdk@v1.2.0
      with:
        vulkan-query-version: 1.3.204.1
        vulkan-components: Vulkan-Headers, Vulkan-Loader, Glslang, SPIRV-Cross, SPIRV-Tools, SPIRV-Reflect, SPIRV-Headers
        vulkan-use-cache: true
    - name: Compilation
      run: | 
        msbuild GPCS4.sln
